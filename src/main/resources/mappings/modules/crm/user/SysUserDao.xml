<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.crm.system.sysuser.dao.SysUserDao">

    <resultMap id="userResultMap" type="com.thinkgem.jeesite.modules.crm.system.sysuser.entity.SysUser">
        <id property="id" column="ID"/>
        <result property="loginName" column="LOGIN_NAME"/>
        <result property="displayName" column="DISPLAY_NAME"/>
        <result property="employeeNumber" column="EMPLOYEE_NUMBER"/>
        <result property="password" column="PASSWORD"/>
        <result property="passwordModifyDate" column="PASSWORD_MODIFY_DATE"/>
        <result property="loginErrorCount" column="LOGIN_ERR_COUNT"/>
        <result property="startDate" column="START_DATE"/>
        <result property="endDate" column="END_DATE"/>
        <result property="enabled" column="ENABLE_FLAG"/>
        <result property="mobile" column="MOBILE"/>
        <result property="email" column="EMAIL"/>
        <result property="fax" column="FAX"/>
        <result property="qq" column="QQ"/>
        <result property="officeTel" column="OFFICE_TEL"/>
        <result property="uuid" column="UUID"/>
        <result property="tenantId" column="TENANT_ID"/>
        <result property="userType" column="USER_TYPE"/>
    </resultMap>
    
	<select id="findUserList" resultMap="userResultMap">
	    SELECT DISTINCT FU.*
	        FROM CRM_SYS_USER FU
	</select>
	
	<select id="findUserByLoginName" parameterType="String" resultMap="userResultMap">
	     select * from CRM_SYS_USER where login_name=#{loginName}
	</select>
	
	<!--新增用户-->
    <insert id="insert" parameterType="com.thinkgem.jeesite.modules.crm.system.sysuser.entity.SysUser" useGeneratedKeys="true" keyProperty="id" >
        INSERT INTO CRM_SYS_USER
        (LOGIN_NAME,DISPLAY_NAME,USER_TYPE,USER_GRADE,PASSWORD,EMPLOYEE_NUMBER,
        MOBILE,EMAIL,FAX,QQ,OFFICE_TEL,
        START_DATE,END_DATE,ENABLE_FLAG,UUID,TENANT_ID
        )
        VALUES
        ( #{loginName}, #{displayName},#{userType,jdbcType=VARCHAR},#{userGrade,jdbcType=VARCHAR},#{password,jdbcType=VARCHAR},#{employeeNumber,jdbcType=VARCHAR},
        #{mobile,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR},#{fax,jdbcType=VARCHAR},#{qq,jdbcType=VARCHAR},#{officeTel,jdbcType=VARCHAR},
        #{startDate},#{endDate},#{enabled} ,#{uuid},#{tenantId,jdbcType=VARCHAR}
        )
    </insert>
    
</mapper>